<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main}">
<body>

<div>
    <section layout:fragment="content" class="">
        <h1 class="font-bold text-xl mb-8">Sửa khoá học</h1>

        <form class="flex flex-col gap-4 items-center w-full" method="post" th:action="@{/manager/course/add}"
              th:object="${course}" enctype="multipart/form-data">
            <input th:field="${course.id}" style="display: none" />
            <input th:field="${course.image}" style="display: none">
            <input type="file" name="file" class="hidden" id="file" accept="image/png, image/gif, image/jpeg">
            <label for="file" class="w-[400px] h-[250px] border rounded flex flex-col items-center justify-center">
                <img th:src="${'/uploads/' + course.image}" id="preview" class="rounded w-full h-full object-cover"
                     src="https://t3.ftcdn.net/jpg/04/60/01/36/240_F_460013622_6xF8uN6ubMvLx0tAJECBHfKPoNOR5cRa.jpg" alt="">
                <p class="border absolute bg-white rounded-full px-4 py-2 hover:bg-gray-200 cursor-pointer">Chọn ảnh</p>
            </label>
            <input th:field="*{price}" class="w-[400px] rounded border p-2" placeholder="Nhập giá..." />
            <input th:field="*{title}" class="w-[400px] rounded border p-2" placeholder="Nhập tên khoá học..." />
            <textarea th:field="*{description}" class="w-[400px] rounded border p-2" placeholder="Nhập mô tả..."></textarea>

            <button type="submit"
                    class="w-[400px] text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                Cập nhật khoá học
            </button>
        </form>


        <script>
            const file = document.querySelector("#file");
            const preview = document.querySelector("#preview");
            file.addEventListener("change", (e) => {
                preview.src = URL.createObjectURL(e.target.files[0])
            })
        </script>
    </section>
</div>

</body>
</html>
